(function(e){function t(t){for(var r,c,o=t[0],i=t[1],s=t[2],l=0,p=[];l<o.length;l++)c=o[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);b&&b(t);while(p.length)p.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(u.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},u=[];function c(e){return o.p+"static/js/"+({about:"about"}[e]||e)+"."+{about:"9c216807"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var u,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=c(e);var s=new Error;u=function(t){i.onerror=i.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),u=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+u+")",s.name="ChunkLoadError",s.type=r,s.request=u,n[1](s)}a[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:i})}),12e4);i.onerror=i.onload=u,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./",o.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var b=s;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"4c1a":function(e,t,n){"use strict";var r=n("c20a"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("router-view")],1)},u=[],c=(n("034f"),n("2877")),o={},i=Object(c["a"])(o,a,u,!1,null,null,null),s=i.exports,l=(n("d3b7"),n("8c4f")),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel"},[n("Split",{staticClass:"demo-split",attrs:{min:"560"},model:{value:e.split,callback:function(t){e.split=t},expression:"split"}},[n("div",{staticClass:"demo-split-pane no-padding",attrs:{slot:"left"},slot:"left"},[n("db-table",{staticStyle:{height:"100%"}})],1),n("div",{staticClass:"demo-split-pane",attrs:{slot:"right"},slot:"right"},["import"==e.view?n("db-data-import"):e._e(),"view"==e.view?n("db-data-view"):e._e()],1)])],1)},p=[],f=n("5530"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Split",{attrs:{mode:"vertical"},model:{value:e.split,callback:function(t){e.split=t},expression:"split"}},[n("div",{staticClass:"demo-split-pane",attrs:{slot:"top"},slot:"top"},[n("Input",{staticStyle:{width:"calc(100% - 150px)"},attrs:{placeholder:"数据库连接"},model:{value:e.model.url,callback:function(t){e.$set(e.model,"url",t)},expression:"model.url"}}),n("Button",{staticStyle:{margin:"0 5px"},attrs:{type:"primary"},on:{click:function(t){return e.addDb(e.model.url)}}},[e._v("添加DB")]),n("Table",{attrs:{border:"",columns:e.dbColumns,data:e.dbs},scopedSlots:e._u([{key:"name",fn:function(t){var r=t.row;return[n("strong",[e._v(e._s(r.name))])]}},{key:"action",fn:function(t){var r=t.row;return[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.chooseDb(r)}}},[e._v("查看表")]),n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.deleteDb(r)}}},[e._v("删除")])]}}])})],1),n("div",{staticClass:"demo-split-pane",attrs:{slot:"bottom"},slot:"bottom"},[n("Input",{staticStyle:{width:"calc(100% - 150px)"},attrs:{placeholder:"表名"},model:{value:e.model.tableName,callback:function(t){e.$set(e.model,"tableName",t)},expression:"model.tableName"}}),n("Button",{staticStyle:{margin:"0 5px"},attrs:{type:"primary"},on:{click:function(t){return e.addTable(e.model.tableName)}}},[e._v("添加Table")]),n("Table",{attrs:{border:"",columns:e.tbColumns,data:e.tables},scopedSlots:e._u([{key:"name",fn:function(t){var r=t.row;return[n("strong",[e._v(e._s(r.name))])]}},{key:"action",fn:function(t){var r=t.row;return[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.actionTable(r,"view")}}},[e._v("查看数据")]),n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.actionTable(r,"import")}}},[e._v("导入数据")]),n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.deleteTable(r)}}},[e._v("删除表")])]}}])})],1)])},m=[],h=n("2f62"),v={mounted:function(){this.$store.dispatch("queryDbs")},methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(h["b"])(["addDb","deleteDb","queryTables","deleteTable","chooseDb","chooseTable","queryTableData"])),Object(h["d"])(["addTable","setView"])),{},{actionTable:function(e,t){this.setView(t),this.chooseTable(e),"view"==t&&this.queryTableData()}}),computed:Object(h["e"])(["dbs","tables"]),data:function(){return{split:.3,model:{url:"",tableName:""},dbColumns:[{title:"id",key:"id",width:50},{title:"类型",key:"type",width:80},{title:"名称",key:"name"},{title:"链接",key:"url"},{title:"Action",fixed:"right",slot:"action",width:150,align:"center"}],tbColumns:[{title:"数据库名",key:"db"},{title:"表名",key:"name"},{title:"数量",key:"count",width:80},{title:"列",key:"columns"},{title:"Action",fixed:"right",slot:"action",width:150,align:"center"}]}}},w=v,g=(n("7756"),Object(c["a"])(w,d,m,!1,null,"6bab8e01",null)),y=g.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("当前DB:"+e._s(e.currentDb.name))]),n("h2",[e._v("当前Table:"+e._s(e.currentTable.name))]),n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:e.inertData}},[e._v("导入数据")]),n("Upload",{attrs:{"before-upload":e.handleUpload,action:"posts/"}},[n("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[e._v("Select the file to upload")])],1),null!==e.file?n("div",[e._v(" Upload file: "+e._s(e.file.name)+" "),n("Button",{attrs:{type:"text",loading:e.loadingStatus},on:{click:e.parse}},[e._v(e._s(e.loadingStatus?"Uploading":"解析"))])],1):e._e(),n("Table",{attrs:{border:"",columns:e.tableColumn,data:e.tableData100},scopedSlots:e._u([{key:"name",fn:function(t){var r=t.row;return[n("strong",[e._v(e._s(r.name))])]}}])})],1)},j=[],O=(n("96cf"),n("1da1")),D={mounted:function(){},methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(h["b"])(["inertData"])),Object(h["b"])(["parseCsvFile"])),{},{handleUpload:function(e){return this.file=e,!1},parse:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingStatus=!0,t.next=3,e.parseCsvFile(e.file);case 3:console.log(e.tableData),e.loadingStatus=!1,e.$Message.success("Success");case 6:case"end":return t.stop()}}),t)})))()}}),computed:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(h["e"])(["tableColumn","tableData"])),Object(h["e"])(["currentDb","currentTable"])),Object(h["c"])(["tableData100"])),data:function(){return{file:null,loadingStatus:!1}}},k=D,_=Object(c["a"])(k,x,j,!1,null,"9be6c0ce",null),T=_.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("当前DB:"+e._s(e.currentDb.name))]),n("h2",[e._v("当前Table:"+e._s(e.currentTable.name))]),n("Table",{attrs:{border:"",columns:e.tableColumn,data:e.tableData100},scopedSlots:e._u([{key:"name",fn:function(t){var r=t.row;return[n("strong",[e._v(e._s(r.name))])]}}])})],1)},S=[],C={mounted:function(){},methods:{},computed:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(h["e"])(["tableColumn","tableData"])),Object(h["e"])(["currentDb","currentTable"])),Object(h["c"])(["tableData100"])),data:function(){return{}}},U=C,B=Object(c["a"])(U,R,S,!1,null,"90375980",null),q=B.exports,P={name:"Home",components:{DbTable:y,DbDataImport:T,DbDataView:q},mounted:function(){},methods:{},computed:Object(f["a"])({},Object(h["e"])(["view"])),data:function(){return{split:.3}}},$=P,E=(n("4c1a"),Object(c["a"])($,b,p,!1,null,"64dab4b0",null)),N=E.exports;r["default"].use(l["a"]);var z=[{path:"/",name:"Home",component:N},{path:"/setting",name:"Setting",component:function(){return n.e("about").then(n.bind(null,"4ef5"))}}],A=new l["a"]({routes:z}),M=A,F=(n("4de4"),n("4160"),n("d81d"),n("b0c0"),n("b64b"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("99af"),n("bc3a")),J=n.n(F);function L(e,t){localStorage[e]=JSON.stringify(t)}function V(e){return void 0!==localStorage[e]?JSON.parse(localStorage[e]):void 0}function I(){return H.apply(this,arguments)}function H(){return H=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="/",!V("baseUrl")){e.next=5;break}t=V("baseUrl"),e.next=9;break;case 5:return e.next=7,X("/config.json");case 7:n=e.sent,t=n.basicUrl;case 9:return r=J.a.create({baseURL:t,withCredentials:!1}),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function X(e){return G.apply(this,arguments)}function G(){return G=Object(O["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J.a.create({headers:{"Cache-Control":"no-cache"}}).get(t).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return Q=Object(O["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return n=e.sent,e.abrupt("return",n.post("/db",{url:t}).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function W(){return Y.apply(this,arguments)}function Y(){return Y=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return t=e.sent,e.abrupt("return",t.get("/db").then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return ee=Object(O["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return n=e.sent,e.abrupt("return",n.get("/db/"+t).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return ne=Object(O["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return n=e.sent,e.abrupt("return",n.delete("/db/"+t).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function re(e,t){return ae.apply(this,arguments)}function ae(){return ae=Object(O["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return r=e.sent,e.abrupt("return",r.delete("/db/".concat(t,"/table/").concat(n)).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function ue(e,t,n){return ce.apply(this,arguments)}function ce(){return ce=Object(O["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return a=e.sent,e.abrupt("return",a.post("/db/".concat(t,"/table/").concat(n,"/data"),r).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)}))),ce.apply(this,arguments)}function oe(e,t){return ie.apply(this,arguments)}function ie(){return ie=Object(O["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return r=e.sent,e.abrupt("return",r.get("/db/".concat(t,"/table/").concat(n,"/data")).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}r["default"].use(h["a"]);var se=window.XLSX,le=new h["a"].Store({state:{baseUrl:"",currentDb:{},currentTable:{},dbs:[],tables:[],view:"view",tableColumn:[],tableData:[]},getters:{tableData100:function(e){return e.tableData.filter((function(e,t){return t<100}))}},mutations:{getBaseUrl:function(e){var t=V("baseUrl");t&&(e.baseUrl=t)},setBaseUrl:function(e,t){e.baseUrl=t,L("baseUrl",t)},setDbs:function(e,t){e.dbs=t},setTables:function(e,t){e.tables=t},addTable:function(e,t){e.tables.push({db:e.currentDb.name,name:t})},setView:function(e,t){e.view=t,"import"==t&&(e.tableData=[],e.tableColumn=[])},setCurrentDb:function(e,t){e.currentDb=t},setCurrentTable:function(e,t){e.currentTable=t},setTableColumn:function(e,t){e.tableColumn=t},setTableData:function(e,t){e.tableData=t},resetDb:function(e){e.currentDb={},e.currentTable={},e.tables=[],e.view="view",e.tableColumn=[],e.tableData=[]}},actions:{addDb:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.next=3,K(t);case 3:return n.next=5,r("queryDbs");case 5:case"end":return n.stop()}}),n)})))()},queryDbs:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.t0=n,t.next=4,W();case 4:t.t1=t.sent,(0,t.t0)("setDbs",t.t1),n("resetDb");case 7:case"end":return t.stop()}}),t)})))()},deleteDb:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.next=3,te(t.name);case 3:return n.next=5,r("queryDbs");case 5:case"end":return n.stop()}}),n)})))()},queryTables:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.t0=r,n.next=4,Z(t);case 4:n.t1=n.sent,(0,n.t0)("setTables",n.t1);case 6:case"end":return n.stop()}}),n)})))()},deleteTable:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=e.state,n.next=3,re(t.db,t.name);case 3:r("queryTables",a.currentDb.name);case 4:case"end":return n.stop()}}),n)})))()},chooseDb:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,r("setCurrentDb",t),r("setCurrentTable",{}),n.next=5,a("queryTables",t.name);case 5:case"end":return n.stop()}}),n)})))()},chooseTable:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("setCurrentTable",t);case 2:case"end":return n.stop()}}),n)})))()},parseCsvFile:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var r,a,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=new FileReader,n.next=4,new Promise((function(e){a.readAsArrayBuffer(t),a.onload=function(t){var n=new Uint8Array(t.target.result),a=se.read(n,{type:"array"}),u=a.Sheets[a.SheetNames[0]],c=se.utils.sheet_to_json(u,{header:1}),o=[];if(c.length){var i=c[0];r("setTableColumn",i.map((function(e){return{title:e,key:e}})));for(var s=function(e){var t={};i.forEach((function(n,r){t[n]=c[e][r]})),o.push(t)},l=1;l<c.length;l++)s(l)}e(o)}}));case 4:u=n.sent,r("setTableData",u);case 6:case"end":return n.stop()}}),n)})))()},inertData:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,t.next=3,ue(n.currentDb.name,n.currentTable.name,n.tableData);case 3:case"end":return t.stop()}}),t)})))()},queryTableData:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.next=3,oe(r.currentDb.name,r.currentTable.name);case 3:a=t.sent,console.log(a[0]),n("setTableColumn",Object.keys(a[0]).map((function(e){return{title:e,key:e}}))),n("setTableData",a);case 7:case"end":return t.stop()}}),t)})))()}},modules:{}}),be=n("f825"),pe=n.n(be);n("f8ce");r["default"].use(pe.a),r["default"].config.productionTip=!1,new r["default"]({router:M,store:le,render:function(e){return e(s)}}).$mount("#app")},7756:function(e,t,n){"use strict";var r=n("b66e"),a=n.n(r);a.a},"85ec":function(e,t,n){},b66e:function(e,t,n){},c20a:function(e,t,n){}});
//# sourceMappingURL=app.e476c741.js.map